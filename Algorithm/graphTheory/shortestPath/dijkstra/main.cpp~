#include <iostream>
#include <cstring>
#include <vector>
#include <queue>
#define MAXN 500005
#define MAXINT 0x7fffffff



using namespace std;

struct edge{
    int v,w;//下一点，权
};

struct node {
  int dis, u;//到起点本点的距离，以及本点的序号
  bool operator>(const node& a) const { return dis > a.dis; }
};

int n,m,s;//点，边，起点

vector<edge> graph[MAXN];

int dis[MAXN];

bool tag[MAXN];

priority_queue<node, vector<node>, greater<node> > pq;

priority_queue<node, vector<node>, greater<node> > pq2;



int main(){
    scanf("%d%d%d",&n,&m,&s);
    for(int i=1;i<=m;i++){
        int a,b,c;
        scanf("%d%d%d",&a,&b,&c);
        edge t;
        t.v=b;
        t.w=c;
        graph[a].push_back(t);
    }

    for(int i=1;i<=n;i++){
        dis[i] = MAXINT;
    }

    dis[s]=0;
    node tmp;
    tmp.dis=0;
    tmp.u=s;
    pq.push(tmp);

    while (!pq.empty())
    {
        int u = pq.top().u;
        pq.pop();
        if(tag[u]) continue;
        tag[u]=1;
        for(auto g : graph[u]){
            int v = g.v, w = g.w;
            if(dis[v]>dis[u]+w){
                dis[v] = dis[u]+w;
                tmp.dis = dis[v];
                tmp.u = v;
                pq.push(tmp);
            }
        }
    }

    for(int i=1;i<=n;i++){
        printf("%d ",dis[i]);
    }

    for(int i=1;i<=n;i++){
        dis[i] = MAXINT;
        tag[i]=0;
    }


    dis[s]=0;
    node tmp1;
    tmp1.dis=0;
    tmp1.u=s;
    pq2.push(tmp1);

    while (!pq2.empty())
    {
        int u1 = pq2.top().u;
        pq2.pop();
        if(tag[u1]) continue;
        tag[u1]=1;
        for(auto g1 : graph[u1]){
            int v1 = g1.v, w = g1.w;
            if(dis[v1]>dis[u1]+w){
                dis[v1] = dis[u1]+w;
                tmp1.dis = dis[v1];
                tmp1.u = v1;
                pq2.push(tmp1);
            }
        }
    }

    for(int i=1;i<=n;i++){
        printf("%d ",dis[i]);
    }

    return 0;


